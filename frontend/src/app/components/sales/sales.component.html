<div class="sales-container">
  <h2>Sales Dashboard</h2>

   <!-- Add this header section -->
  <div class="sales-header">
    <button mat-button routerLink="/">
      <mat-icon>arrow_back</mat-icon>
      Back to Dashboard
    </button>
    <h2>Sales Management</h2>
  </div>

  <!-- Add Sale Form -->
  <div class="add-sale-form">
    <h3>Add New Sale</h3>
    
    <div *ngIf="error" class="error-message">
      {{ error }}
    </div>

    <form (ngSubmit)="addSale()">
      <div class="form-group">
        <input 
          type="text" 
          [(ngModel)]="newSale.product" 
          name="product" 
          placeholder="Product Name" 
          required
          class="form-control"
        >
      </div>

      <div class="form-group">
        <input 
          type="number" 
          [(ngModel)]="newSale.amount" 
          name="amount" 
          placeholder="Amount" 
          required
          class="form-control"
          min="0"
        >
      </div>

      <div class="form-group">
        <input 
          type="date" 
          [(ngModel)]="newSale.date" 
          name="date" 
          required
          class="form-control"
        >
      </div>

      <div class="form-group">
        <select 
          [(ngModel)]="newSale.region" 
          name="region" 
          required
          class="form-control"
        >
          <option value="">Select Region</option>
          <option value="North">North</option>
          <option value="South">South</option>
          <option value="East">East</option>
          <option value="West">West</option>
        </select>
      </div>

      <div class="form-group">
        <input 
          type="text" 
          [(ngModel)]="newSale.salesperson" 
          name="salesperson" 
          placeholder="Salesperson" 
          required
          class="form-control"
        >
      </div>

      <button 
        type="submit" 
        class="btn btn-primary"
        [disabled]="loading"
      >
        {{ loading ? 'Adding...' : 'Add Sale' }}
      </button>
    </form>
  </div>

  <!-- Sales Summary -->
  <div class="sales-summary" *ngIf="sales.length > 0">
    <h3>Sales Summary</h3>
    <p>Total Sales: <strong>${{ totalSales.toFixed(2) }}</strong></p>
    <p>Number of Sales: <strong>{{ sales.length }}</strong></p>
  </div>

  <!-- Sales List -->
  <div class="sales-list">
    <h3>Recent Sales</h3>
    
    <div *ngIf="loading && sales.length === 0" class="loading">
      Loading sales data...
    </div>

    <div *ngIf="!loading && sales.length === 0" class="no-data">
      No sales data available. Add your first sale above!
    </div>

    <div *ngIf="sales.length > 0" class="sales-table">
      <table>
        <thead>
          <tr>
            <th>Product</th>
            <th>Amount</th>
            <th>Date</th>
            <th>Region</th>
            <th>Salesperson</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let sale of sales">
            <td>{{ sale.product }}</td>
            <td>${{ sale.amount.toFixed(2) }}</td>
            <td>{{ formatDate(sale.date) }}</td>
            <td>{{ sale.region }}</td>
            <td>{{ sale.salesperson }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>